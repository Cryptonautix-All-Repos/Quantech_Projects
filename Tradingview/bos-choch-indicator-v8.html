<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOS/CHoCH Indicator V8 - Quantech Innovation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #0a0e27;
            --secondary-dark: #131829;
            --accent-cyan: #00d4ff;
            --accent-blue: #0080ff;
            --text-primary: #ffffff;
            --text-secondary: #b8c5d6;
            --card-bg: #1a1f3a;
            --success: #00ff88;
            --danger: #ff3366;
            --border-color: rgba(0, 212, 255, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--primary-dark) 0%, var(--secondary-dark) 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Header */
        header {
            background: rgba(19, 24, 41, 0.95);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .back-btn {
            padding: 0.6rem 1.2rem;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: var(--accent-cyan);
            color: var(--primary-dark);
            border-color: var(--accent-cyan);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 1024px) {
            .container {
                grid-template-columns: 240px 1fr;
            }
        }

        /* Sidebar Navigation */
        .sidebar-nav {
            position: sticky;
            top: 100px; /* Adjust based on header height */
            align-self: start;
        }

        .sidebar-nav h3 {
            font-size: 1.1rem;
            color: var(--accent-cyan);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-nav ul {
            list-style: none;
        }

        .sidebar-nav li {
            margin-bottom: 0.75rem;
        }

        .sidebar-nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.95rem;
            transition: all 0.2s ease;
            display: block;
            padding: 0.25rem 0;
        }

        .sidebar-nav a:hover {
            color: var(--accent-cyan);
            transform: translateX(5px);
        }

        /* Main Content Sections */
        .content-main {
            background: var(--card-bg);
            border-radius: 15px;
            border: 1px solid var(--border-color);
            padding: 2rem;
        }

        .content-main h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1.5rem;
        }
        
        .content-section {
            margin-bottom: 3rem;
        }

        .content-section h2 {
            font-size: 1.8rem;
            color: var(--accent-cyan);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .content-section p, .content-section li {
            color: var(--text-secondary);
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 1rem;
        }

        .content-section ul {
            list-style-position: inside;
            padding-left: 1rem;
        }

        .content-section li {
            margin-bottom: 0.5rem;
        }

        /* Parameter Table */
        .param-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
        }

        .param-table th, .param-table td {
            padding: 0.8rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .param-table th {
            color: var(--text-primary);
            font-size: 1.1rem;
        }

        .param-table code {
            font-family: 'Courier New', Courier, monospace;
            background: var(--secondary-dark);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.9rem;
            color: var(--accent-cyan);
        }

        /* Image Placeholders */
        .img-placeholder {
            width: 100%;
            height: auto;
            aspect-ratio: 16 / 9;
            max-height: 600px;
            background: var(--secondary-dark);
            border: 2px dashed var(--border-color);
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        .img-placeholder p {
            color: var(--text-secondary);
            font-size: 1.1rem;
            margin: 0;
            padding: 2rem;
        }

        .caption {
            display: block;
            text-align: center;
            color: var(--text-secondary);
            font-style: italic;
            font-size: 0.9rem;
        }

        /* Risk Disclaimer */
        .risk-disclaimer {
            background: rgba(255, 51, 102, 0.1);
            border: 1px solid var(--danger);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .risk-disclaimer h3 {
            color: var(--danger);
            margin-bottom: 0.5rem;
        }

        .risk-disclaimer p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin: 0;
            line-height: 1.6;
        }

        /* Footer */
        footer {
            background: var(--secondary-dark);
            padding: 2rem;
            text-align: center;
            border-top: 1px solid var(--border-color);
            margin-top: 4rem;
        }

        .footer-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .footer-btn {
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));
            color: var(--primary-dark);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .footer-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.4);
        }
        
        footer p {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .footer-tagline {
            color: var(--accent-cyan);
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 1023px) {
            .sidebar-nav {
                position: static;
                border-bottom: 1px solid var(--border-color);
                padding-bottom: 1rem;
                margin-bottom: 2rem;
            }
            .sidebar-nav ul {
                display: flex;
                flex-wrap: wrap;
                gap: 1rem;
            }
            .sidebar-nav li { margin-bottom: 0; }
        }
        @media (max-width: 768px) {
            header { padding: 1rem; }
            .content-main h1 { font-size: 2rem; }
            .content-section h2 { font-size: 1.5rem; }
            .container { padding: 0 1rem; margin-top: 1.5rem;}
            .content-main { padding: 1.5rem; }
            .param-table { font-size: 0.9rem; }
            .param-table th, .param-table td { padding: 0.6rem 0.5rem; }
            .img-placeholder p { font-size: 1rem; }
        }
    </style>
    <script>
        // Smooth scroll for navigation
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.sidebar-nav a').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring;
                    const targetElement = document.getElementById(targetId);
                    if(targetElement) {
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">Quantech Innovation</div>
            <a href="index.html" class="back-btn">← Back to Portfolio</a>
        </div>
    </header>

    <div class="container">
        <nav class="sidebar-nav">
            <h3>Quick Navigation</h3>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#methodology">Methodology & Logic</a></li>
                <li><a href="#parameters">Parameters & Settings</a></li>
                <li><a href="#specs">Technical Specifications</a></li>
                <li><a href="#visuals">Visual Documentation</a></li>
                <li><a href="#usage">Usage Guide</a></li>
                <li><a href="#alerts">Alert Configuration</a></li>
            </ul>
        </nav>

        <main class="content-main">
            <h1>BOS/CHoCH Indicator V8</h1>

            <section id="overview" class="content-section">
                <h2>Overview</h2>
                <p>The BOS/CHoCH Indicator V8 is a sophisticated market structure analysis tool designed for professional traders. Its primary function is to automatically identify and plot two critical market structure events: the **Break of Structure (BOS)** and the **Change of Character (CHoCH)**. By mapping these events in real-time, the indicator helps traders identify the prevailing market trend, potential reversals, and high-probability zones for trade entries.</p>
                <p>This indicator's key innovation lies in its **three-phase processing architecture**. It first collects all bar data, then processes the entire history in bulk to establish a non-repainting structural baseline, and finally, it processes new bars in real-time. This ensures that historical patterns are stable and reliable, while new information is processed efficiently.</p>
                <p>It is most effective in markets that exhibit clear trending and reversal phases. It helps traders distinguish between simple pullbacks (which often precede a BOS) and genuine trend changes (which are often signaled by a CHoCH).</p>
            </section>

            <section id="methodology" class="content-section">
                <h2>Methodology & Logic</h2>
                <p>The indicator's logic is built on a precise, rule-based definition of market structure pivots and breaks.</p>
                <ul>
                    <li><strong>Pivot Detection:</strong> The script first identifies local high and low points (pivots) based on the `Pivot Search Window` input. A bar is considered a pivot high if its high is higher than the highs of the N bars to its left and right.</li>
                    <li><strong>Two-Candle Confirmation:</strong> A pivot is not considered "confirmed" until a specific two-candle follow-up pattern occurs, validating the pivot's strength. This prevents weak or temporary pivots from being used for structure analysis.</li>
                    <li><strong>Break of Structure (BOS):</strong> A BOS event is flagged when price breaks and closes *beyond* a confirmed pivot in the direction of the prevailing trend.
                        <ul>
                            <li>A **Bullish BOS** occurs when price breaks above a confirmed *pivot high* during an uptrend.</li>
                            <li>A **Bearish BOS** occurs when price breaks below a confirmed *pivot low* during a downtrend.</li>
                        </ul>
                    </li>
                    <li><strong>Change of Character (CHoCH):</strong> A CHoCH event signals a potential trend reversal. It's flagged when price breaks and closes *beyond* a confirmed pivot that was protecting the previous trend's swing.
                        <ul>
                            <li>A **Bullish CHoCH** occurs when price breaks above a confirmed *pivot high* during a downtrend.</li>
                            <li>A **Bearish CHoCH** occurs when price breaks below a confirmed *pivot low* during an uptrend.</li>
                        </ul>
                    </li>
                    <li><strong>Internal Pivot Detection:</strong> The indicator intelligently identifies the most significant "internal" pivot low (in a bullish BOS) or pivot high (in a bearish BOS) that was formed *within* the range of the last structure break. This internal pivot becomes the new key level to watch for a potential CHoCH.</li>
                    <li><strong>State Management:</strong> Every pivot is tracked as either "unresolved" or "resolved." When a BOS or CHoCH event breaks a pivot, that pivot is marked as "resolved," and the indicator begins looking for the next structural event.</li>
                </ul>
            </section>

            <section id="parameters" class="content-section">
                <h2>Parameters & Settings</h2>
                <p>The indicator provides several key inputs for customization to different market conditions and timeframes.</p>
                <table class="param-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>Show Debug Labels</code></td>
                            <td>false</td>
                            <td>A boolean toggle. When set to <code>true</code>, it displays development labels and a debug table for analysis. Keep <code>false</code> for normal use.</td>
                        </tr>
                        <tr>
                            <td><code>Pivot Search Window</code></td>
                            <td>2</td>
                            <td>Controls the sensitivity of pivot detection. A value of <code>2</code> means a pivot high must be higher than the 2 bars to its left and 2 bars to its right. Higher values find more significant, long-term pivots. Lower values find more minor, short-term pivots.</td>
                        </tr>
                        <tr>
                            <td><code>Pattern Confirmation Window</code></td>
                            <td>10</td>
                            <td>The maximum number of bars the script will look ahead to find the two-candle confirmation pattern after a potential pivot is formed.</td>
                        </tr>
                        <tr>
                            <td><code>Data Storage Size</code></td>
                            <td>4000</td>
                            <td>The maximum number of recent bars to store in memory for analysis. This allows the script to remain performant on very long charts. The default of <code>4000</code> is sufficient for most use cases.</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <section id="specs" class="content-section">
                <h2>Technical Specifications</h2>
                <ul>
                    <li><strong>PineScript Version:</strong> v6</li>
                    <li><strong>Indicator Type:</strong> Overlay (plots directly on the main price chart)</li>
                    <li><strong>Repainting:</strong> No. Historical structure is processed in bulk and locked, providing a stable, non-repainting analysis.</li>
                    <li><strong>Applicable Timeframes:</strong> All. Logic is price-action based, making it universally applicable. (Recommended: 1H, 4H, Daily for clearer structure).</li>
                    <li><strong>Asset Classes:</strong> All (Forex, Crypto, Stocks, Indices, Commodities).</li>
                </ul>
            </section>

            <section id="visuals" class="content-section">
                <h2>Visual Documentation</h2>
                <p>The indicator provides clear and color-coded visual outputs on the chart.</p>
                
                <div class="img-placeholder">
                    <p>Example 1: [BOS/CHoCH Indicator V8] on BTC/USD 4H Chart<br>(Showing Bullish BOS in green and Bearish CHoCH in orange)</p>
                </div>
                <span class="caption">This placeholder demonstrates the identification of a bullish trend continuation (BOS) and a subsequent potential reversal signal (CHoCH).</span>

                <div class="img-placeholder">
                    <p>Example 2: [BOS/CHoCH Indicator V8] on EUR/USD 1H Chart<br>(Showing internal pivot 'L' label and subsequent Bearish BOS)</p>
                </div>
                <span class="caption">This placeholder illustrates the detection of an internal pivot low ('L') after a bearish structure break, and the following bearish continuation (BOS) as price breaks that low.</span>

                <div class="img-placeholder">
                    <p>Example 3: [BOS/CHoCH Indicator V8] Parameter Settings<br>(Showing the 'Pivot Search Window' set to 5)</p>
                </div>
                <span class="caption">This placeholder shows how a larger 'Pivot Search Window' (e.g., 5) filters out minor pivots and focuses only on major market swings.</span>
            </section>

            <section id="usage" class="content-section">
                <h2>Usage Guide</h2>
                <p>Interpreting the indicator's signals allows traders to build a clear narrative of the market.</p>
                <ul>
                    <li><strong>Trend Confirmation (BOS):</strong> A series of bullish BOS events (green lines) confirms a strong uptrend. A series of bearish BOS events (red lines) confirms a strong downtrend. Traders can use these signals to look for entries (e.g., pullbacks to the newly formed internal pivot) in the direction of the trend.</li>
                    <li><strong>Reversal Warning (CHoCH):</strong> A CHoCH event (orange or purple line) is the first major warning that the prevailing trend may be ending.
                        <ul>
                            <li>After a **Bearish CHoCH** (orange) in an uptrend, traders should become cautious about long positions and start looking for potential short-selling opportunities.</li>
                            <li>After a **Bullish CHoCH** (purple) in a downtrend, traders should become cautious about short positions and start looking for potential long opportunities.</li>
                        </ul>
                    </li>
                    <li><strong>Pivot Levels ('H' / 'L'):</strong> The 'H' (High) and 'L' (Low) labels mark the exact price levels of the confirmed pivots. These levels are critical. A break of the last 'H' in an uptrend is a BOS. A break of the last 'L' in an uptrend is a CHoCH.</li>
                </ul>
            </section>

            <section id="alerts" class="content-section">
                <h2>Alert Configuration</h2>
                <p>This indicator is built as a pure visual analysis tool and does not include built-in `alert()` or `alertcondition()` functions. </p>
                <p>However, users can leverage TradingView's manual alert functionality:</p>
                <ol>
                    <li>Right-click on any line (BOS or CHoCH) plotted by the indicator.</li>
                    <li>Select "Add Alert on [Indicator Line]".</li>
                    <li>Configure the alert to trigger "Once Per Bar Close" when price crosses the line.</li>
                </ol>
                <p>This allows you to be notified when a new structural break occurs.</p>
            </section>

            <div class="risk-disclaimer">
                <h3>Risk Disclaimer</h3>
                <p>Trading involves substantial risk. This indicator is a technical analysis tool and does not guarantee profitable trades. Past performance does not indicate future results. Users should conduct their own analysis and risk assessment before making any trading decisions.</p>
            </div>
        </main>
    </div>

    <footer>
        <div class="footer-buttons">
            <a href="mailto:contact@quantechinnovation.com" class="footer-btn">✉ Contact Us</a>
            <a href="https://portfolio.quantechinnovation.com/" class="footer-btn" target="_blank">🌐 View Portfolio</a>
        </div>
        <p>&copy; 2024 Quantech Innovation. All Rights Reserved.</p>
        <p class="footer-tagline">Built for Professional Traders</p>
    </footer>

</body>
</html>